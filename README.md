# Swagger API 接口选择器

一个用于 Swagger UI 页面的油猴脚本，在页面底部添加可搜索的接口下拉框，方便快速查找和跳转到指定接口。

## 功能特性

- 🔍 **智能搜索**: 支持按接口路径、方法、描述、标签进行模糊搜索
- ⌨️ **键盘导航**: 支持上下箭头键选择，回车键确认，ESC键取消
- 🎨 **美观界面**: 现代化的UI设计，支持折叠/展开
- 🚀 **快速跳转**: 点击接口项直接跳转到对应的接口文档，支持高亮显示
- 📱 **响应式设计**: 适配不同屏幕尺寸
- 📊 **数据源**: 直接从 OpenAPI 文档获取接口数据，确保数据准确性
- 🔄 **容错机制**: API 请求失败时自动回退到 DOM 提取方式

## 安装方法

1. 确保已安装 [Tampermonkey](https://www.tampermonkey.net/) 浏览器扩展
2. 打开 Tampermonkey 管理面板
3. 点击"添加新脚本"
4. 将 `swagger-api-selector.user.js` 文件内容复制到编辑器中
5. 保存脚本

## 使用方法

1. 访问目标 Swagger UI 页面：`https://datahome.sit.ihomefnt.org/datahome/swagger-ui/index.html`
2. 等待页面完全加载后，页面底部会出现"接口快速选择"面板
3. 在搜索框中输入关键词进行搜索
4. 使用键盘上下箭头键选择接口，回车键确认
5. 点击"收起/展开"按钮控制面板显示

## 支持的页面

- `https://datahome.sit.ihomefnt.org/datahome/swagger-ui/index.html`
- `https://datahome.sit.ihomefnt.org/datahome/swagger-ui/*`

## 键盘快捷键

- `↑/↓`: 上下选择接口
- `Enter`: 确认选择并跳转
- `Esc`: 取消搜索焦点

## 技术实现

- 使用原生 JavaScript 实现，无外部依赖
- 优先从 OpenAPI 文档 API 获取接口数据，确保数据准确性
- 支持实时搜索和过滤
- 响应式设计，适配移动端
- 多种接口定位策略，提高跳转成功率
- 异步数据加载，提供加载状态提示

## 注意事项

- 脚本会在页面完全加载后自动初始化
- 如果接口数据未正确提取，请刷新页面重试
- 支持折叠/展开功能，避免遮挡页面内容

## 更新日志

### v1.1
- 从 OpenAPI 文档 API 获取接口数据，提高数据准确性
- 支持接口标签显示
- 优化接口定位策略，提高跳转成功率
- 添加加载状态提示
- 支持高亮显示选中的接口

### v1.0
- 初始版本发布
- 支持接口搜索和跳转
- 支持键盘导航
- 支持面板折叠/展开
